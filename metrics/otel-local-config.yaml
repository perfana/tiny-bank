receivers:
  zipkin:
    endpoint: 0.0.0.0:9411
  otlp:
    protocols:
      grpc:
        endpoint: 0.0.0.0:4317
      http:
        endpoint: 0.0.0.0:4318
processors:
  attributes:
    actions:
      - key: "system_under_test"
        action: insert
        value: "tiny-bank"
        #from_context: metadata.system_under_test
      - key: "test_environment"
        action: insert
        value: "silver"
        #from_context: metadata.test_environment
      - key: "service"
        action: insert
        value: "tiny-bank-service"
        #from_context: metadata.service
  batch:
extensions:
  zpages: {}
exporters:
  debug:
    verbosity: detailed
  prometheusremotewrite:
      endpoint: "http://prometheus:9090/api/v1/write"
service:
  telemetry:
    logs:
      level: "DEBUG"
      development: true
      encoding: "json"
  extensions: [zpages]
  pipelines:
    metrics:
      receivers: [otlp]
      processors: [attributes]
      exporters: [debug, prometheusremotewrite]
    logs:
      receivers: [otlp]
      processors: [attributes]
      exporters: [debug]
    traces:
      receivers: [otlp, zipkin]
      processors: [attributes]
      exporters: [debug]
